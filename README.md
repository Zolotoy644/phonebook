# Phonebook

### Описание:

Разработан телефонной книги с использованием Java. Приложение обеспечивает создание, редактирование, удаление и просмотр контактов. Каждый контакт содержит идентификационный номер, имя, фамилию, электронную почту, телефон и телеграм. Реализован только API.

### Стек:
1. Java 17
2. Spring Boot 3.3.3
3. Spring Security 6.3.3
4. Redis 7.0.15
5. PostgreSQL 16.4
6. Flyway 10.10.0

### Возможности:

1. Сервис поддерживает аутентификацию и авторизацию пользователей по email и паролю.
2. Доступ к API аутентифицирован с помощью JWT токена в заголовке HTTP запроса.
3. Пользователи могут управлять своими контактами: создавать новые, редактировать существующие, просматривать и удалять контакты.
4. Пользователи могут просматривать задачи других пользователей, а исполнители задачи могут менять только статус своих задач.
5. К задачам можно оставлять комментарии.
6. API позволяет получать задачи конкретного автора или исполнителя, а также все комментарии к ним. Обеспечена фильтрация и пагинация вывода.
7. Сервис корректно обрабатывает ошибки и возвращает понятные сообщения, а также валидирует входящие данные.
8. API описан с помощью Open API и Swagger. В сервисе настроен Swagger UI по адресу: `http://localhost:8080/swagger-ui/index.html`.
9. Реализовано несколько базовых интеграционных тестов для проверки основных функций контроллера UserController.
10. Использован язык Java 17, Spring, Spring Boot. В качестве БД используется PostgreSQL. Для реализации аутентификации и авторизации используется Spring Security.
11. Для управления версиями схемы базы данных в приложении используется Flyway. Flyway позволяет легко выполнять миграции и управлять изменениями в структуре БД. 
12. Созданы 2 тестовые учетные записи login: "ivan", password: "111111", login: "kolya", password: "111111".
13. Кэширование данных реализовано с использованием Redis.

### Запуск

* С помощью Maven (в системе должна быть установлена PostgreSQL и Redis):

```
./mvnw spring-boot:run
```

* С помощью Docker compose (в системе должен быть установлен Maven, а также установлен и запущен Docker):

```
mvn clean package -DskipTests
docker-compose up
```

После запуска приложения переходим на HTTP endpoint `http://localhost:8080/swagger-ui/index.html`.
На странице логина вводим данные одного из пользователей, описанных ниже, и получаем в ответе JWT токен, который необходимо добавить в форме авторизации.

В системе для демонстрации зарегистрировано 2 пользователя со следующими реквизитами:
1) login: "ivan", password: 111111, role: ADMIN, id: 1
2) email: kolya, password: 111111, role: USER, id: 2

Только пользователь с ролью ADMIN имеет права на удаление любых других пользователей в системе.
